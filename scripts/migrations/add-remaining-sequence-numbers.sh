#!/bin/bash

# Add sequence numbers to remaining migration files
set -e

cd "$(dirname "$0")/../.."

echo "ðŸ”§ Adding sequence numbers to remaining migration files..."

# Continue from 030 onwards
git mv supabase/migrations/20250829010000_gl_journal_entry_and_sync_cursor.sql supabase/migrations/20250829010000_030_gl_journal_entry_and_sync_cursor.sql
git mv supabase/migrations/20250829013000_gl_reporting_views.sql supabase/migrations/20250829013000_031_gl_reporting_views.sql
git mv supabase/migrations/20250829014500_bank_accounts_country_and_indexes.sql supabase/migrations/20250829014500_032_bank_accounts_country_and_indexes.sql
git mv supabase/migrations/20250829021000_bank_account_type_check_constraint.sql supabase/migrations/20250829021000_033_bank_account_type_check_constraint.sql
git mv supabase/migrations/20250829024550_add_unit_images_and_notes.sql supabase/migrations/20250829024550_034_add_unit_images_and_notes.sql
git mv supabase/migrations/20250829120000_update_vendors_schema_add_fields_remove_legacy.sql supabase/migrations/20250829120000_035_update_vendors_schema_add_fields_remove_legacy.sql
git mv supabase/migrations/20250829123000_add_expense_gl_account_id_to_vendors.sql supabase/migrations/20250829123000_036_add_expense_gl_account_id_to_vendors.sql
git mv supabase/migrations/20250829124500_update_vendors_category_fields.sql supabase/migrations/20250829124500_037_update_vendors_category_fields.sql
git mv supabase/migrations/20250829131500_add_vendor_contact_fk.sql supabase/migrations/20250829131500_038_add_vendor_contact_fk.sql
git mv supabase/migrations/20250829133000_require_vendors_contact_id.sql supabase/migrations/20250829133000_039_require_vendors_contact_id.sql
git mv supabase/migrations/20250829140000_tasks_categories_and_relationships.sql supabase/migrations/20250829140000_040_tasks_categories_and_relationships.sql
git mv supabase/migrations/20250829150000_add_appliance_buildium_and_service_history.sql supabase/migrations/20250829150000_041_add_appliance_buildium_and_service_history.sql
git mv supabase/migrations/20250829153000_tenants_sms_bool_and_tenant_notes.sql supabase/migrations/20250829153000_042_tenants_sms_bool_and_tenant_notes.sql
git mv supabase/migrations/20250829180000_bank_accounts_extend_for_buildium.sql supabase/migrations/20250829180000_043_bank_accounts_extend_for_buildium.sql
git mv supabase/migrations/20250829181000_update_gl_accounts_field_mapping.sql supabase/migrations/20250829181000_044_update_gl_accounts_field_mapping.sql
git mv supabase/migrations/20250829190000_owner_indexes.sql supabase/migrations/20250829190000_045_owner_indexes.sql
git mv supabase/migrations/20250829190500_add_lease_notes_and_recurring.sql supabase/migrations/20250829190500_046_add_lease_notes_and_recurring.sql
git mv supabase/migrations/20250902090000_add_indexes_for_lease_transactions.sql supabase/migrations/20250902090000_047_add_indexes_for_lease_transactions.sql

echo "âœ… Added sequence numbers to remaining files!"
