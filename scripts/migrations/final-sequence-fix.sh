#!/bin/bash

# Final batch of sequence number additions
set -e

cd "$(dirname "$0")/../.."

echo "ðŸ”§ Adding final sequence numbers..."

# Continue from 048 onwards
git mv supabase/migrations/20250904_add_total_vacant_units_to_properties.sql supabase/migrations/20250904000000_048_add_total_vacant_units_to_properties.sql
git mv supabase/migrations/20250904180100_add_more_unit_counts_to_properties.sql supabase/migrations/20250904180100_049_add_more_unit_counts_to_properties.sql
git mv supabase/migrations/20250905010000_remove_vacant_units_count_and_add_occupancy_rate.sql supabase/migrations/20250905010000_050_remove_vacant_units_count_and_add_occupancy_rate.sql
git mv supabase/migrations/20250905011000_remove_vacant_units_count.sql supabase/migrations/20250905011000_051_remove_vacant_units_count.sql
git mv supabase/migrations/20250905013000_drop_square_footage_from_units.sql supabase/migrations/20250905013000_052_drop_square_footage_from_units.sql
git mv supabase/migrations/20250906000000_create_property_staff.sql supabase/migrations/20250906000000_053_create_property_staff.sql
git mv supabase/migrations/20250906001000_add_location_fields_to_properties.sql supabase/migrations/20250906001000_054_add_location_fields_to_properties.sql
git mv supabase/migrations/20250906002000_add_property_type_enum_and_convert.sql supabase/migrations/20250906002000_055_add_property_type_enum_and_convert.sql
git mv supabase/migrations/20250906003000_drop_rental_sub_type.sql supabase/migrations/20250906003000_056_drop_rental_sub_type.sql
git mv supabase/migrations/20250907091500_add_management_and_fee_fields_to_properties.sql supabase/migrations/20250907091500_057_add_management_and_fee_fields_to_properties.sql
git mv supabase/migrations/20250907093000_convert_service_assignment_enum.sql supabase/migrations/20250907093000_058_convert_service_assignment_enum.sql
git mv supabase/migrations/20250907095500_rename_included_services_to_active_services.sql supabase/migrations/20250907095500_059_rename_included_services_to_active_services.sql
git mv supabase/migrations/20250907113000_staff_roles_enum_and_convert.sql supabase/migrations/20250907113000_060_staff_roles_enum_and_convert.sql
git mv supabase/migrations/20250911090000_integrity_enforcements.sql supabase/migrations/20250911090000_061_integrity_enforcements.sql
git mv supabase/migrations/20250911133000_rbac_and_tenancy.sql supabase/migrations/20250911133000_062_rbac_and_tenancy.sql
git mv supabase/migrations/20250911140900_jwt_custom_claims.sql supabase/migrations/20250911140900_063_jwt_custom_claims.sql
git mv supabase/migrations/20250911141000_extend_rls_and_portals.sql supabase/migrations/20250911141000_064_extend_rls_and_portals.sql
git mv supabase/migrations/20250911143000_org_integrity_and_storage_fix.sql supabase/migrations/20250911143000_065_org_integrity_and_storage_fix.sql
git mv supabase/migrations/20250911150000_backfill_org_ids_and_constraints.sql supabase/migrations/20250911150000_066_backfill_org_ids_and_constraints.sql
git mv supabase/migrations/20250912120000_dashboard_kpis.sql supabase/migrations/20250912120000_067_dashboard_kpis.sql

echo "âœ… Final sequence numbers added!"
