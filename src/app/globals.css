@config "../../tailwind.config.ts";
@import "tailwindcss";
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/container-queries";

@import "../../styles/tokens.css";

/* Sidebar submenu positioning */
.sidebar-submenu {
  --submenu-top: 0px;
  --submenu-left: 0px;
  top: var(--submenu-top);
  left: var(--submenu-left);
}

/* Monthly logs drag and drop styles */
.monthly-log-card {
  opacity: 1;
  transition: opacity 0.2s ease;
}

.monthly-log-card.dragging {
  opacity: 0.5;
}

/* Inline Sample UI comprehensive design system */
@custom-variant dark (&:is(.dark *));

:root {
  --font-size: 15px;
  --sidebar-width: 16rem;
  --sidebar-width-mobile: 18rem;
  --sidebar-width-icon: 3rem;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/**
  * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-3xl);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-tight);
    }

    h2 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-tight);
    }

    h3 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-tight);
    }

    h4 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-tight);
    }

    h5 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-normal);
    }

    h6 {
      font-size: var(--text-sm);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-normal);
    }

    p {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: var(--leading-relaxed);
    }

    label {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: var(--leading-tight);
    }

    button {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }
}

/* Global toast styling */
.app-toaster [data-sonner-toast] {
  border-radius: var(--border-radius, 12px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
  padding: 14px 16px;
  border-width: 1px;
  border-style: solid;
  min-width: 260px;
  gap: 10px;
}

.app-toaster [data-sonner-toast] [data-title] {
  font-weight: 600;
  color: inherit;
}

.app-toaster [data-sonner-toast] [data-description] {
  color: inherit;
  opacity: 0.9;
  font-size: 13px;
}

.app-toaster [data-sonner-toast] [data-icon],
.app-toaster [data-sonner-toast] [data-icon] svg {
  color: inherit;
  width: 18px;
  height: 18px;
}

.app-toaster [data-sonner-toast] [data-close-button] {
  background: transparent;
  border: 1px solid currentColor;
  color: inherit;
  width: 22px;
  height: 22px;
  display: grid;
  place-items: center;
  opacity: 0.9;
}

.app-toaster [data-sonner-toast] [data-close-button]:hover {
  opacity: 1;
  background: rgba(255, 255, 255, 0.04);
}

@layer base {
  .bill-tab-link,
  [data-slot="tabs-trigger"] {
    outline-offset: 3px;
    transition: outline 0.2s ease, box-shadow 0.2s ease;
  }

  .bill-tab-link:focus-visible,
  [data-slot="tabs-trigger"]:focus-visible {
    outline: 2px solid transparent;
    box-shadow: 0 0 0 2px var(--ring-offset), 0 0 0 4px var(--ring);
  }

  .bill-tab-link:focus:not(:focus-visible),
  [data-slot="tabs-trigger"]:focus:not(:focus-visible) {
    outline: none;
    box-shadow: none;
  }
}

html {
  font-size: var(--font-size);
}

/* Standardized Status Pill Design */
@layer components {
  .status-pill {
    @apply inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-semibold;
  }

  .status-pill-success {
    background-color: var(--color-success-50);
    border-color: var(--color-success-500);
    color: var(--color-success-700);
  }

  .status-pill-warning {
    background-color: var(--color-warning-50);
    border-color: var(--color-warning-600);
    color: var(--color-warning-600);
  }

  .status-pill-danger {
    background-color: var(--color-danger-50);
    border-color: var(--color-danger-700);
    color: var(--color-danger-700);
  }

  .status-pill-info {
    background-color: var(--surface-primary-soft);
    border-color: var(--surface-primary-soft-border);
    color: var(--color-action-700);
  }
}

/* Custom dropdown arrow for select elements */
.custom-select-arrow {
  color: var(--text-muted);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
}

/* Ensure Google Places Autocomplete dropdown works inside modals (Radix/Portal)
   - Put dropdown above overlays and keep it clickable */
.pac-container {
  z-index: 99999 !important;
  pointer-events: auto !important;
  box-shadow: none !important;
  border: 1px solid var(--border) !important;
}
.pac-item { cursor: pointer; }
.pac-item:hover { background: var(--surface-dropdown-hover); }

/* Dynamic overlay positioning using CSS custom properties */
.dynamic-overlay {
  position: fixed;
  bottom: 0;
  z-index: 40;
  overflow: auto;
  background: var(--background);
  padding: 1.5rem;
  padding-bottom: 3rem;
  top: var(--overlay-top, 0);
  left: var(--overlay-left, 0);
  right: 0;
}

/* Sidebar skeleton width using data attribute */
[data-skeleton-width] {
  max-width: attr(data-skeleton-width);
}
